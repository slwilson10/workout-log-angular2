"use strict";var __decorate=this&&this.__decorate||function(t,e,o,r){var a,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(s=(n<3?a(s):n>3?a(e,o,s):a(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},core_1=require("@angular/core"),forms_1=require("@angular/forms"),moment=require("moment"),WorkoutCreator=function(){function t(t){this._fb=t,this.onCreate=new core_1.EventEmitter,this.events=[],this.defaultWorkout={name:"Workout",date:moment().format("YYYY-MM-DD"),duration:{hours:0,minutes:30},calories:100,distance:0,heartrate:90,zones:{peak:0,cardio:0,fatburn:0}}}return t.prototype.ngOnInit=function(){this.setForm(this.defaultWorkout)},t.prototype.create=function(t,e){console.log("Creating"),this.submitted=!0,e&&(t.date=moment(t.date).startOf("day").format(),this.onCreate.next(t),this.setForm(this.defaultWorkout))},t.prototype.setForm=function(t){this.submitted=!1,this.myForm=this._fb.group({name:[t.name,[forms_1.Validators.required,forms_1.Validators.minLength(1)]],date:[moment(t.date).format("YYYY-MM-DD")],duration:this._fb.group({hours:[t.duration.hours],minutes:[t.duration.minutes]}),calories:[t.calories],distance:[t.distance],heartrate:[t.heartrate],zones:this._fb.group({peak:[t.zones.peak],cardio:[t.zones.cardio],fatburn:[t.zones.fatburn]})})},__decorate([core_1.Output(),__metadata("design:type",Object)],t.prototype,"onCreate",void 0),t=__decorate([core_1.Component({selector:"workout-creator",templateUrl:"workout/templates/workout-creator.html",styleUrls:["workout/styles/workout-creator.css"]}),__metadata("design:paramtypes",[forms_1.FormBuilder])],t)}();exports.WorkoutCreator=WorkoutCreator;