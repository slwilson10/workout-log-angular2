"use strict";var __decorate=this&&this.__decorate||function(t,e,o,r){var i,a=arguments.length,n=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(a<3?i(n):a>3?i(e,o,n):i(e,o))||n);return a>3&&n&&Object.defineProperty(e,o,n),n},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},core_1=require("@angular/core"),forms_1=require("@angular/forms"),moment=require("moment"),WorkoutEditor=function(){function t(t){this._fb=t,this.onUpdate=new core_1.EventEmitter,this.onEdit=new core_1.EventEmitter,this.events=[]}return t.prototype.ngOnInit=function(){this.reset()},t.prototype.update=function(t,e){this.submitted=!0,e&&(console.log("Editor: "+t),t.date=moment(t.date).startOf("day").format(),this.onUpdate.next(t),this.reset())},t.prototype.edit=function(){this.onEdit.next()},t.prototype.reset=function(){this.submitted=!1,this.myForm=this._fb.group({id:[this.workout._id],name:[this.workout.name,[forms_1.Validators.required,forms_1.Validators.minLength(1)]],date:[moment(this.workout.date).startOf("day").format("YYYY-MM-DD")],duration:this._fb.group({hours:[this.workout.duration[0].hours],minutes:[this.workout.duration[0].minutes]}),calories:[this.workout.calories],distance:[this.workout.distance],heartrate:[this.workout.heartrate],zones:this._fb.group({peak:[this.workout.zones[0].peak],cardio:[this.workout.zones[0].cardio],fatburn:[this.workout.zones[0].fatburn]})})},__decorate([core_1.Input(),__metadata("design:type",Object)],t.prototype,"workout",void 0),__decorate([core_1.Output(),__metadata("design:type",Object)],t.prototype,"onUpdate",void 0),__decorate([core_1.Output(),__metadata("design:type",Object)],t.prototype,"onEdit",void 0),t=__decorate([core_1.Component({selector:"workout-editor",templateUrl:"workout/templates/workout-editor.html",styleUrls:["workout/styles/workout-editor.css"]}),__metadata("design:paramtypes",[forms_1.FormBuilder])],t)}();exports.WorkoutEditor=WorkoutEditor;